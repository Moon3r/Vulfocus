{"version":3,"sources":["webpack:///./src/views/frp/index.vue?2973","webpack:///./src/views/frp/index.vue?83cd","webpack:///./src/views/frp/index.vue?68be","webpack:///./src/api/frp.js","webpack:///src/views/frp/index.vue","webpack:///./src/views/frp/index.vue?8d9e","webpack:///./src/views/frp/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","directives","name","rawName","value","expression","data","model","callback","$$v","$set","_v","on","settingUpdate","frpdata","scopedSlots","_u","key","fn","ref","row","$event","deleteFrp","staticRenderFns","frpSettings","request","url","method","deleteFrpc","domain","frp_template","switch","frp_url","loading","tabLoading","created","initSetting","methods","then","message","rspData","msg","i","type","formData","set","frpid","status","component"],"mappings":"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","file":"static/js/chunk-509536a0.99543ea3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=1eefe46d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-tabs',{staticStyle:{\"margin-left\":\"20px\"}},[_c('el-tab-pane',{attrs:{\"label\":\"FRP设置\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"margin-top\":\"30px\"},attrs:{\"label-width\":\"170px\",\"model\":_vm.data,\"element-loading-text\":\"修改中\"}},[_c('el-form-item',{attrs:{\"label\":\"是否启用FRP\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-switch',{attrs:{\"on-value\":\"true\",\"off-value\":\"false\"},model:{value:(_vm.data.switch),callback:function ($$v) {_vm.$set(_vm.data, \"switch\", $$v)},expression:\"data.switch\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Frp服务端地址\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.data.frp_url),callback:function ($$v) {_vm.$set(_vm.data, \"frp_url\", $$v)},expression:\"data.frp_url\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"域名设置\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.data.domain),callback:function ($$v) {_vm.$set(_vm.data, \"domain\", $$v)},expression:\"data.domain\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"FRP模板\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\"},model:{value:(_vm.data.frp_template),callback:function ($$v) {_vm.$set(_vm.data, \"frp_template\", $$v)},expression:\"data.frp_template\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.settingUpdate}},[_vm._v(\"修改\")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"FRP映射\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tabLoading),expression:\"tabLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.frpdata,\"border\":\"\",\"stripe\":\"\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"frpid\",\"label\":\"FRPID\",\"width\":\"290\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"frp_subdomain\",\"label\":\"访问子域名\",\"width\":\"270\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dockerid\",\"label\":\"容器ID\",\"width\":\"150\",\"min-width\":\"270\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"container_status\",\"label\":\"容器状态\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"container_port\",\"label\":\"容器端口\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"frpconfig\",\"label\":\"FRP配置\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"frpconfig\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.deleteFrp(row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\n\n/**\n * 获取frp配置\n * @param\n * @constructor\n */\nexport function frpSettings() {\n    return request({\n        url: '/frp/get',\n        method: 'get'\n    })\n}\n\n\n/**\n * 修改frp配置\n * @param data\n * @constructor\n */\nexport function settingUpdate(data) {\n    return request({\n        url: '/frp/update',\n        method: 'post',\n        data\n    })\n}\n\n\nexport function deleteFrpc(data) {\n    return request({\n        url: '/frp/delete',\n        method: 'post',\n        data\n    })\n}","<template>\n  <div class=\"app-container\">\n    <el-tabs style=\"margin-left: 20px\">\n      <el-tab-pane label=\"FRP设置\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <el-form label-width=\"170px\" style=\"margin-top: 30px\" v-loading=\"loading\" :model=\"data\" element-loading-text=\"修改中\">\n              <el-form-item label=\"是否启用FRP\">\n                <el-col :span=\"20\">\n                  <el-switch v-model=\"data.switch\" on-value=true off-value=false></el-switch>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"Frp服务端地址\">\n                <el-col :span=\"20\">\n                  <el-input v-model=\"data.frp_url\"></el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"域名设置\">\n                <el-col :span=\"20\">\n                  <el-input v-model=\"data.domain\" placeholder=\"请输入内容\"></el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item label=\"FRP模板\">\n                <el-col :span=\"20\">\n                  <el-input type=\"textarea\" autosize v-model=\"data.frp_template\"></el-input>\n                </el-col>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\" @click=\"settingUpdate\">修改</el-button>\n              </el-form-item>\n            </el-form>\n          </el-col>\n        </el-row>\n      </el-tab-pane>\n      <el-tab-pane label=\"FRP映射\">\n          <el-table :data=\"frpdata\" border stripe align = \"center\" style=\"width: 100%\" v-loading=\"tabLoading\">\n            <el-table-column type=\"index\" width=\"30\"> </el-table-column>\n            <el-table-column prop=\"frpid\" label=\"FRPID\" width=\"290\"></el-table-column>\n            <el-table-column prop=\"frp_subdomain\" label=\"访问子域名\" width=\"270\"></el-table-column>\n            <el-table-column prop=\"dockerid\" label=\"容器ID\" width=\"150\" min-width=\"270\"></el-table-column>\n            <el-table-column prop=\"container_status\" label=\"容器状态\" width=\"80\"></el-table-column>\n            <el-table-column prop=\"container_port\" label=\"容器端口\" width=\"80\"> </el-table-column>\n            <el-table-column prop=\"frpconfig\" label=\"FRP配置\"> </el-table-column>\n            <el-table-column prop=\"frpconfig\" label=\"操作\" width=\"200\">\n              <template slot-scope=\"{row}\">\n                <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"deleteFrp(row)\" >删除</el-button>\n              </template>\n            </el-table-column>\n        </el-table>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n\n<script>\n\n  import { frpSettings, settingUpdate, deleteFrpc } from \"@/api/frp\"\n  export default {\n  data() {\n    return {\n      data: {\n        domain: \"\",\n        frp_template: \"\",\n        switch: false,\n        frp_url: \"\",\n      },\n      frpdata: [],\n      loading: false,\n      tabLoading: true,\n    }\n  },\n  created() {\n    this.initSetting()\n  },\n  methods: {\n    initSetting() {\n      frpSettings().then(response => {\n        let rspData = response.data\n        if(rspData.status === 200){\n          this.data = rspData.data.config\n          this.frpdata = rspData.data.all\n          this.tabLoading = false\n        }else{\n          for(let i; i < rspData.msg.length; i++){\n            this.$message({\n              message: rspData.msg[i],\n              type: \"info\",\n            })\n          }\n        }\n      })\n    },\n    settingUpdate() {\n      let formData = new FormData()\n      formData.set(\"domain\", this.data.domain)\n      formData.set(\"frp_template\", this.data.frp_template)\n      formData.set(\"switch\", this.data.switch)\n      formData.set(\"frp_url\", this.data.frp_url)\n      this.loading = true\n      settingUpdate(formData).then(response => {\n        let rspData = response.data\n        this.loading = false\n        if(rspData.status === 200){\n          this.data = rspData.data\n          this.$message({\n            message: '修改成功',\n            type: \"success\",\n          })\n        }else{\n          this.$message({\n            message: rspData.msg,\n            type: \"error\",\n          })\n        }\n      })\n    },\n    deleteFrp(row) {\n      let formData = new FormData()\n      formData.set(\"frpid\", row.frpid)\n      this.loading = true\n      deleteFrpc(formData).then(response => {\n        let rspData = response.data\n        this.loading = false\n        if (rspData.status === 200) {\n          this.data = rspData.data\n          this.$message({\n            message: '删除成功',\n            type: \"success\",\n          })\n        } else {\n          this.$message({\n            message: rspData.msg,\n            type: \"error\",\n          })\n        }\n      })\n    },\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n  .avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 330px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 330px;\n  height: 178px;\n  display: block;\n}\n\n.el-table .cell {\n  white-space: pre-line;\n}\n</style>\n\n<style scoped>\n.relationContainer{\n  display:flex;\n  justify-content:center;/*主轴上居中*/\n  align-items:flex-end;/*侧轴上居中*/\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1eefe46d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=1eefe46d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1eefe46d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}